<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Wilbert Dijkhof">
   <title>ConditionalReader Avisynth Filter</title>
   <link rel="stylesheet" type="text/css" href="../../avisynth.css">
</head>
<body>
<h2>
<a NAME="ConditionalFilter"></a>ConditionalReader
</h2>
<p><code>ConditionalReader </code>(<var>clip, string filename, string
variablename, bool &quot;show&quot;</var>)
<p><code><span style="font-size:10.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">ConditionalReader
<font color="#000000">permite importar informação de um arquivo de texto, com
valores diferentes para cada</font> </span></code><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">quadro</span><code><span style="font-size:10.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA"> <font color="#000000">- ou uma gama de</font> </span></code><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">quadro</span><code><span style="font-size:10.0pt;font-family:&quot;Microsoft Sans Serif&quot;;mso-ansi-language:
PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">s.</span></code>
<h3>Parâmetros</h3>
<table border="1" width="61%">
  <tr>
    <td width="9%"><b>Parâmetro</b></td>
    <td width="76%"><b>Descrição</b></td>
    <td width="15%"><b>Padrão</b></td>
  </tr>
  <tr>
    <td width="9%">clip</td>
    <td width="76%"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O clipe que entra. Não é tocado, a menos que
      você especifique show=true.</span></td>
    <td width="15%">Não opcional</td>
  </tr>
  <tr>
    <td width="9%">filename</td>
    <td width="76%"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O arquivo com as variáveis para você fixar.</span></td>
    <td width="15%">Não opcional</td>
  </tr>
  <tr>
    <td width="9%">variablename</td>
    <td width="76%"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O nome da variável com a informação inserida.</span></td>
    <td width="15%">Não opcional</td>
  </tr>
  <tr>
    <td width="9%">show</td>
    <td width="76%"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Quando fixado em true, o valor dado a este quadro
      será sopreposto na imagem.</span></td>
    <td width="15%">false</td>
  </tr>
</table>
<h3>Formato do arquivo</h3>
<p><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O arquivo é puro texto. Toda a separação é
feita por espaços e outra linha indica um novo jogo de dados. Não é caso
sensitivo!</span><br>
<br>
<b>TYPE (int|float|bool)</b>
<p><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Você pode ter um só tipo de dados em cada
arquivo. Atualmente é possível ter valores <i>float</i>, <i>int</i> ou <i>bool</i>.
Você especifica isso usando a palavra chave <b>TYPE</b>. E deve sempre iniciar
especificando o tipo de dados, como nada é salvo até que esta palavra chave
tenha sido encontrada. Não é possível mudar <i>type</i> uma vez fixo!</span>
<p><b>DEFAULT &lt;value></b>
<p><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Isto especifica o valor padrão de todos os
quadro</span><code><span style="font-size:10.0pt;font-family:&quot;Microsoft Sans Serif&quot;;mso-ansi-language:
PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">s</span></code><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">.
Você deve fazer isso direito, depois de especificar o tipo, como sobreescrever
todos os quadro</span><code><span style="font-size:10.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">s</span></code><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">
definidos. Você pode omitir esta colocação, mas deve estar seguro em
especificar uma colocação para todos os quadro</span><code><span style="font-size:10.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">s</span></code><span style="font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:
&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:
PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">, porque em caso contrário
conduzirá a resultados inesperados.</span>
<p><b>&lt;framenumber> &lt;value></b>
<p><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Isto fixa o valor só para quadro</span> &lt;framenumber>.
<p><b>R &lt;startframe> &lt;endframe> &lt;value></b>
<p><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Você deve notar que start E end-frame estão
incluídos</span>
<p><b>I &lt;startframe> &lt;endframe> &lt;startvalue> &lt;stopvalue></b>
<p><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Isto interpolará entre dois valores em cima de
uma gama de quadro</span><code><span style="font-size:10.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">s</span></code><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">.
Isto só trabalha em valores inteiros e flutuantes. Você deve notar que start E
end-frame estão incluídos</span>
<h3>Tipos</h3>
<p><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Como mencionado, os tipos podem ser qualquer um</span> <i>float</i>, <i>int</i> or <i>bool</i>.&nbsp;<br>
<br>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Número<i> Int</i> <span style="mso-spacerun:
yes">&nbsp;</span>é um número opcionalmente precedido de um sinal.</span><br>
<br>
<i><span style="font-size:10.0pt;mso-bidi-font-size:
12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Float</span></i><span style="font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:
&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:
PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA"><span style="mso-spacerun: yes">&nbsp;
</span>é um número decimal que contém um ponto decimal, opcionalmente
precedido por um sinal e opcionalmente seguido pelo caractere <b>e</b> ou <b>E</b>
e um número decimal. Entradas válidas: -732.103 ou 7.12e4.</span><br>
<br>
<i>Bool</i> pode ser <i>true</i>  ou <i>false</i>.
<h3>Exemplos</h3>
<h4><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Uso básico</span></h4>
<p>File.txt:
<pre>Type float
Default 3.45567

R 45 300 76.5654
2 -671.454
72 -671.454</pre>
<p><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O arquivo acima retornará valores <i>float</i>.
Por padrão retorna 3.45567. Porém os quadro</span><code><span style="font-size:10.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">s</span></code><span style="font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:
&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:
PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA"> 45 a 300 retornarão
76.5654. E quadro</span><code><span style="font-size:10.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">s</span></code><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA"> 2 e
72 retornarão -671.454.&nbsp;<br>
Como você pode notar - mudanças posteriores predominam colocações feitas
antes no arquivo. Isto é ilustrado através do quadro '72' - embora esteja
dentro da gama de 45-300, o valor posterior será devolvido. Por outro lado - se
a gama fosse especificada DEPOIS '72 -671.454' - retornaria 76.5654.</span><br>
<br>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Um escrito para invocar este arquivo pode ser:</span>
<pre>colorbars(512,512)
trim(0,500)
ScriptClip(&quot;subtitle(string(myvar))&quot;)
ConditionalReader(&quot;file.txt&quot;, &quot;myvar&quot;, false)</pre>
<p><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Isto coloca os valores na variável chamada
&quot;myvar&quot; que é usada por <a href="subtitle.htm">Subtitle</a>
invocada por <a href="conditionalfilter.htm">ScriptClip</a>
para exibir o valor condicional.</span>
<h4><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Ajustando Overlay</span></h4>
<p><b>AviSynth script:</b>
<pre>colorbars(512,256)
a1 = trim(0,600)
a2 = MessageClip(&quot;Text clip&quot;)
overlay(a1,a2, y = 100, x = 110, mode=&quot;subtract&quot;, opacity=0, pc_range=true)
ConditionalReader(&quot;opacity.txt&quot;, &quot;ol_opacity_offset&quot;, false)
ConditionalReader(&quot;xoffset.txt&quot;, &quot;ol_x_offset&quot;, false)</pre>
<p><b>xoffset.txt:</b>
<pre>Type int
Default -50

I 25 50 -50 100
R 50 250 100
I 250 275 100 250</pre>
<p><b>opacity.txt:</b>
<pre>Type float
Default 0.0

I 25 50 0.0 1.0
R 50 250 1.0
I 250 275 1.0 0.0</pre>
<p><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Basicamente define <font color="#660033">keyframes</font>
para um <font color="#660033">x-offset</font> e opacidade. Nos quadros 25-&gt;50
a opacidade é escalada de 0.0 a 1.0, enquanto o texto está se movendo da
esquerda para a direita. O texto então é mantido firme do quadro 50 a 250,
onde depois avança para a direita, desvanecendo. O mais fácil é assistir o
clipe acima que descreve tudo o que faz.</span>
<p><kbd>$Date: 2006/03/26 18:11:19 $ Portuguese translation by RoLon</kbd></p>
<form><input TYPE="Button" VALUE="Back"
onClick="history.go(-1)"></form>
</body>
</html>
