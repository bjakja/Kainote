<!DOCTYPE htm PUBLIC "-//W3C//DTD Xhtm 1.0 Transitional//EN" "DTD/xhtm1-transitional.dtd">
<htm xmlns="http://www.w3.org/1999/xhtm" xml:lang="de" lang="de">
<head>
 <meta http-equiv="content-type" content="text/htm; charset=iso-8859-1" />
 <meta http-equiv="content-style-type" content="text/css" />
 <meta name="author" content="Arlsair" />
 <meta name="date" content="2004-01-22" />
 <title>MSmooth</title>
 <link rel="stylesheet" type="text/css" href="../../style.css" />
</head><body>
<h1>MSmooth</h1>

<h2>&Uuml;bersicht</h2>
<b>Autor:</b> Donald Graft<br />
<b>Version:</b> 2.00 Beta 1<br />
<b>Download:</b> <a href="http://neuron2.net/mine.html" target"=_blank">http://neuron2.net/mine.html</a><br />
<b>Kategorie:</b> R&auml;umlicher Weichzeichner<br />
<b>Anforderungen:</b> YV12 oder RGB32 Farbformat<br />
<hr size=2 width="100%" align=center>

<!-- #EndTemplate -->
<center>
<h1>MSmooth Plugin for Avisynth<br>
(Version 2.00 beta 1)</h1>
<h3>by Donald A. Graft</h3>
</center>
<h4>Introduction</h4>
This plugin for Avisynth implements a unique new concept in spatial smoothing.
Although designed specifically for anime, it may be useful elsewhere. The filter
is effective at removing mosquito noise as well as effectively smoothing flat
areas in anime. Not only is the noise reduction valuable, but less bits are
needed to encode the resulting clip.
<p>This filter supports RGB32 or YV12 color spaces for input. Note that the
HUFYUV filter can output RGB, so when using it to generate source material,
configure it that way to avoid an unnecessary conversion.
<p>This filter is not yet optimized for speed. Optimizations will be included in
a future version.
<p>The justification for the filter is simple. The biggest complaint about Smart
Smoother (for example) is that setting the threshold high enough to give the
desired smoothing destroys a significant amount of detail. We need to decouple
the control of detail detection from the amount of smoothing applied. In Smart
Smoother and other thresholded smoothers, one threshold controls both of these
functions.
<p>Also, smoothing should not be done <i>across</i> image edges.
<p>MSmooth implements both of these refinements. To use it, first set the
'threshold' parameter so that desired detail is preserved. Then set the
smoothing strength. You can set very high smoothing strengths without destroying
the preserved detail (because the detail map is used to mask the smoothing).
<p>&nbsp;
<hr>
<h4>MSmooth Function Syntax</h4>
MSmooth uses named parameters. That means you do not have to worry about the
ordering of parameters and can simply refer to them by name and put them in any
order in the list of parameters. If you omit a parameter it takes its default
value. For example, if you want to run MSmooth with a strength of 7 and debug
enabled, you can simply say:
<p>MSmooth(strength=7,debug=true)
<p>Any combination and order of named parameters is allowed. Remember, however,
that you should always include empty parentheses if you are not specifying any
parameters.
<p>Following is the syntax for MSmooth (replace <i>parameter_list</i> with your
comma-separated list of named parameters).
<p>&nbsp;
<hr>
<p><b>MSmooth(<i>parameter_list</i>)</b>
<p><b><i>threshold</i></b> (0-255, default 15): This parameter determines what
is detected as detail and thus preserved. To see what detail areas will be
preserved, use the 'mask' parameter.
<p><b><i>strength</i></b> (0-25, default 3): This is the number of iterations of
a 3x3 averaging blur to be performed on the areas to be smoothed. It is applied
only to the non-detail areas as determined by the 'threshold' parameter, and
smoothing does not cross image detail. The filter becomes much slower as the
strength is raised.
<p><b><i>highq</i></b> (true/false, default true): When set to true, a higher
quality but slightly slower detail detection algorithm is used.
<p><b><i>mask</i></b> (true/false, default false): When set to true, the areas
to be preserved are shown. Use this to set the level of detail to be preserved.
<p><b><i>show</i></b> (true/false, default false): This parameter overlays debug
output on the output frame. Currently, only the filter version is output.
<p><b><i>debug</i></b> (true/false, default false): This parameter enables debug
output to the DebugView utility. Currently, only the filter version is output.
<p>&nbsp;
<hr>
<p>Copyright (C) 2003 Donald A. Graft, All Rights Reserved.<br>
Feedback/inquiries to neuron2@attbi.com.
<p>For updates and other filters/tools, visit my web site:<br>
<a href="http://shelob.mordor.net/dgraft/">http://shelob.mordor.net/dgraft/</a>
</body>
</html>
