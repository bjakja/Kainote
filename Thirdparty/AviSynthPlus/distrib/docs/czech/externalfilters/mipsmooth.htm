<html>
<head>
<title>MipSmooth</title>
<link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: mipsmooth.htm,v 1.1 2010/02/27 14:50:14 wilbertd Exp $
-->
</head>
<body>
<h1>MipSmooth</h1>
<h2>Pøehled</h2>
<b>autor:</b> Klaus Post (Sh0dan)
<br><b>verze:</b>     1.12<br>
<b>stáhnout:</b> <a href="http://www.avisynth.org/warpenterprises/">http://www.avisynth.org/warpenterprises/</a>
<br><b>kategorie:</b>  Prostorovì-èasové vyhlazovaèe
<br><b>požadavky:</b>&nbsp;
<ul>
  <li>YV12 &amp; YUY2 &amp; RGB Barevné prostøedí</li>
  <li>ISSE podpora</li>
  <li>šíøka dìlitelná 4 pro YV12 a 8 pro YUY2</li>
</ul>

<hr size=2 width="100%" align=center>

<h2>Popis</h2>
<p>
Toto je MipSmoother -
znovu stvoøené SmoothHiQ a Convolution3D. MipSmooth byl vytvoøen pro umožnìní
vyhlazení vìtších oblastí pixelù než 3x3(x3), pro odstranìní blokù a vyhlazení
nízkofrekvenèního šumu. Doufám, že tento filtr, bude lepší než C3D k vyhlazení rovinných ploch
a gradientù. Mìl by být dobrý pro animovaný materiál, ale ve skuteènosti
také docela pìknì pomáhá obyèejným filmùm.</p>
<h2>
<small>Syntaxe</small>
</h2>
<p>Základní syntaxe: <code>MipSmooth()</code> - všechny parametry jsou volitelné.</p>
<p>Rozšíøená syntaxe:</p>
<p><code>MipSmooth</code> (<var>clip, optional arguments</var>)
</p>
<p>Je øada
argumentù, které øídí jak silné vyhlazení bude použito:
</p>
<p><var>pøednastavení</var> = &quot;MovieHQ&quot; / &quot;MovieLQ&quot; / &quot;AnimeHQ&quot; /
&quot;AnimeLQ&quot; / &quot;VHS&quot; / &quot;Rainbow&quot; / &quot;Custom&quot;
</p>
<p>Naètìte vestavìné pøednastavení jako
nové výchozí. Podívejte se do kapitoly s pøednastavením pro více informací.
</p>
<pre>spatial = 5,
temporal = 4,
spatial_chroma =6,
temporal_chroma =54,
scenechange = 2.0</pre>
<p>Všechna èísla jsou platná v rozsazích
0 - 255 a toto definuje prahovou hodnotu pro každý režim smíchání.<br>
Prahové hodnoty mohou být
srovnány s hodnotami C3D, kromì vyšších prahových hodnot vyhlazují mnohem ménì než C3D.<br>
Výchozí nastavení jsou
docela konzervativní, a jen mírnì vyhlazují plochy.
</p>
<p>&quot;Temporal
influence&quot; (èasové ovlivnìní) je nahrazeno celkovou detekcí zmìny scény (scenechange).&nbsp; Zmìny scény
vypnou èasové (temporal) zpracování v obou smìrech. Použijte &quot;<var>show</var> =
true&quot; pro zobrazení hodnot v každém snímku.
</p>
<p><var>method&nbsp;</var> = &quot;strong&quot; / &quot;soft&quot; /&nbsp; &quot;supersoft&quot; /
&quot;superstrong&quot;&nbsp; -&nbsp;
výchozí: &quot;supersoft&quot;<br>
Toto nastavení øídí, jak
silné rozmazání bude použito. Nastavení strong
zpùsobí, že filtr bude mít vìtší úèinek, zatímco soft
je jemnìjší. Obecnì strong
by mìl dát nejlepší výsledky na animovaných filmech, a soft
by mìl být nejlepší pro bìžný filmový materiál.<br>
SuperSoft / SuperStrong používají mírnì
odlišný pøístup, a obecnì vedou k ménì artefaktùm. Tyto dva jsou
celkovì trochu mìkèí než režimy bez super.
</p>
<p><var>downsizer</var>
= &quot;reduce&quot;, &quot;point&quot;, &quot;bilinear&quot;,
&quot;bicubic&quot;, &quot;lanczos&quot;&nbsp; -&nbsp;
výchozí: &quot;reduce&quot;<br>
<var>upsizer</var>
= &quot;point&quot;, &quot;bilinear&quot;, &quot;bicubic&quot;,
&quot;lanczos&quot;&nbsp; -&nbsp;
default: &quot;bilinear&quot;<br>
Tyto dva parametry
øídí jak jsou vytvoøeny mapy s nižším rozlišením. Zde by nemìlo mít moc velký
vizuální dopad použití rùzných resizerù (mìnièù velikosti). Experimenty jsou vítány!
</p>
<p><var>scalefactor</var>
= 0.5<br>
Tato možnost nastavuje
mìøítko (scale) každé mipmapy. Je to jak moc je každý snímek redukován v každé iteraci.
Pùvodní rozlišení je násobeno touto hodnotou.&nbsp; Použitelné hodnoty jsou
od 0.2 do 4.0, i když doporuèené hodnoty jsou jen mezi 0.4 a 1.5. Když je toto nastaveno
na 1.0 neprovádí se žádné prostorové (spatial) rozmazání, ale to se nedoporuèuje -
použijte místo toho = 0. Experimentujte s hodnotami nad 1.0 - mohli by být užiteèné.<br>
Toto ovlivní rádius rozmazání. Èím je hodnota scale menší, tím vìtší
rádius rozmazání - a také dostanete vìtší crosstalk - pøeslechové poruchy.
</p>
<pre>MipSmooth(downsizer=&quot;lanczos&quot;, upsizer=&quot;bilinear&quot;, scalefactor=1.5, method = &quot;strong&quot;)</pre>
<p>Napøíklad skript výše vytváøí velmi pìkné, jemné vyhlazení, ale je
velmi pomalý.
</p>
<p><var>weigh</var>
= true / false<br>
Tato možnost volí
zda by mìly být mipy vážené, podle toho jak jsou rozmazané.&nbsp; Nejvíce
rozmazané mipy jsou váženy nejníže.&nbsp; Tato možnost je shodná s &quot;Weighed
Average&quot; v SmoothHiQ, nebo &quot;soft&quot; maticí (matrix) v Convolution3D.
</p>
<p>Tato možnost má efekt jen, když je použit režim SuperMip.&nbsp; Snižuje objem
rozmazání pokud je zapnuta, takže mùže být použita pro dosažení vyšších prahových hodnot
bez artefaktù.
</p>
<p><var>show</var> =
true / false<br>
Zobrazuje informaci o
rozdílech zmìny scény, a použitých nastavení.<br>
Toto nastavení nebude mít žádný efekt v režimu RGB24 - použijte místo nìj RGB32!
</p>
<p><var>storecustom</var>
= true / false<br>
Toto zachová použitá
nastavení v registru.<br>
Pro opìtovné vyvolání tìchto pøednastavení
pozdìji použijte parametr <var>preset</var> = &quot;custom&quot; parameter.<br>
Toto se nestane automaticky výchozími parametry.
</p>
<h2>Pøednastavení
</h2>
<p>Pøednastavení
jsou sadou vestavìných nastavení pro usnadnìní vašich zaèátkù. U jmen
parametrù nezáleží na velikosti písma.</p>
<p>Všechna pøednastavení jsou naètena jako výchozí hodnoty. To znamená, že je stále možné
vyladit pøednastavená nastavení nastavením jednotlivých parametrù.</p>
<p>Napøíklad: MipSmooth(preset
= &quot;movieHQ&quot;, scenechange = 8)
použije MovieHQ, ale s nastavením scenechange na 8.</p>
<p><b>MovieHQ</b></p>
<p>Toto pøednastavení je pro pøírodní filmy ve vysoké kvality.</p>
<pre>Spatial: 4
Temporal: 5
Spatial Chroma: 5
Temporal Chroma: 7
Scenechange: 2.0
Method: SuperSoft
Downsizer: Bilinear
Upsizer: Bilinear
Scalefactor: 0.85
Weigh = true</pre>
<b>
MovieHQ2</b>
<p>Toto pøednastavení je pro pøírodní filmy ve vysoké kvality.</p>
<pre>Spatial: 2
Temporal: 2
Spatial Chroma: 3
Temporal Chroma: 3
Scenechange: 2.5
Method: SuperSoft
Downsizer: Bilinear
Upsizer: Bilinear
Scalefactor: 0.75
Weigh = true</pre>
<b>
MovieLQ</b>
<p>Toto
pøednastavení je pro pøírodní filmy, které potøebuje více vyhlazení, pro odstranìní více blokù a
šumu.</p>
<pre>Spatial: 8
Temporal: 7
Spatial Chroma: 10
Temporal Chroma: 8
Scenechange: 3.5
Method: SuperSoft
Downsizer: Bilinear
Upsizer: Bilinear
Scalefactor: 0.65
Weigh = true
</pre>
<b>MovieLQ2</b>
<p>
Toto pøednastavení je pro
pøírodní filmy, které potøebuje více vyhlazení, pro odstranìní více blokù a šumu.</p>
<pre>Spatial: 4
Temporal: 4
Spatial Chroma: 5
Temporal Chroma: 5
Scenechange: 3.5
Method: SuperStrong
Downsizer: Bilinear
Upsizer: Bilinear
Scalefactor: 0.65
Weigh = true</pre>

<b>VHS</b>
<pre>Spatial: 9
Temporal: 6
Spatial Chroma: 10
Temporal Chroma: 9
Scenechange: 5.0
Method: SuperStrong
Downsizer: Bilinear
Upsizer: Bilinear
Scalefactor: 0.60
Weigh = true
</pre>
<b>AnimeHQ</b>
<p>Toto je pro mírné odstranìní blokù a restauraci gradientu. Má více prostorového
vyhlazení než obyèejné video, aby pomohlo obnovit rovinnost a gradient ploch.</p>
<pre>Spatial: 6
Temporal: 8
Spatial Chroma: 6
Temporal Chroma: 8
Scenechange: 5.0
Method: SuperSoft
Downsizer: Bicubic
Upsizer: Bicubic
Scalefactor: 0.60
Weigh = true
</pre>
<b>AnimeLQ</b>
<p>Toto je pro více zašumìlý
materiál s více bloky a šumem.</p>
<pre>Spatial: 5
Temporal: 5
Spatial Chroma: 5
Temporal Chroma: 7
Scenechange: 5.5
Method: SuperStrong
Downsizer: Bilinear
Upsizer: Bicubic
Scalefactor: 0.5
Weigh = true
</pre>
<b>Rainbow</b>
<p>Toto
by mìlo pomoci odstranit duhové chvìní. Podívejte se na <a href="http://forum.doom9.org/showthread.php?s=&amp;threadid=62873">toto vlákno z Doom9
</a> pro info a alternativy. Snižuje scalefactor pro ještì vìtší
odstranìní duhy, ale více rozmazává barevnost.</p>
<pre>Spatial: 0
Temporal: 0
Spatial Chroma: 255
Temporal Chroma: 255
Scenechange: 2.0
Method: SuperStrong
Downsizer: Bilinear
Upsizer: Bilinear
Scalefactor: 0.65
Weigh = true
</pre>
<b>Custom</b>
<p>Toto bude
nastavení.<br>
Pokud nejsou do registru uložena žádná nastavení, vyskoèí chyba.<br>
Kdykoliv je možné použít &quot;<var>storecustom</var> = true&quot;
což uloží aktuální nastavení do registru, a ta budou pak
použita jako uživatelské parametry</p>
<h2>Pøíklady &amp;
Triky:</h2>
Zkuste experimentovat s docela tvrdým zmìkèováním s velmi nízkými prahovými hodnotami.
Napøíklad:
<pre>MipSmooth(spatial=2, temporal=2, method=&quot;superstrong&quot;, scalefactor=0.75, weigh=true)</pre>
<p>Toto je docela dobré nastavení pro velmi kvalitní materiál, které bude stabilizovat
obraz a umožní mnohem lepší kompresi a stále udržuje docela vysoké množství
detailù. Tyto režimy jsou implementovány jako pøednastavení &quot;MovieHQ2&quot; a
&quot;MovieLQ2&quot; .</p>
<pre>MipSmooth(spatial=255, scenechange=0, method=&quot;soft&quot;)
# Toto bude dávat velmi mìký obraz - vídaný v nìkterých komerèních poøadech a soap operách.</pre>
<pre>MipSmooth(spatial=255, scenechange=0, method=&quot;strong&quot;, scalefactor=0.65)
# Toto bude velmi vyhlazovat obraz podobnì jako mìkké gaussovo rozmazání.</pre>
<pre>MipSmooth(spatial=255, scenechange=255, temporal=255, method=&quot;superstrong&quot;, scalefactor=0.6, weigh=false)
# Toto bude dávat také velmi mìkký obraz s urèitým èasovým rozmazáním.</pre>
<p>Pøi správném oøíznutí pøed tímto filtrem, použijte parametr &quot;align=true&quot;,
dostupný od verze AviSynth 2.5.3 a pozdìjší. To provede ve vìtšinì pøípadù mírné urychlení.</p>
<h2>Informace na pozadí</h2>
&quot;Mip&quot; pochází
z &quot;MipMap&quot;, což je termín používaný v realtime 3D-graickém svìtì,
a v podstatì popisuje podvzorkovanou verzi textury (bitmapových ploch 3D
objektù), která je použita, když je objekt daleko.&nbsp; MipMapy jsou vždy
polovièní velikosti pùvodního obrazu.
<p>To co MipSmooth dìlá, je
ve skuteènosti velmi jednoduché:</p>
<p>Bere zdrojový
snímek, a vytváøí tøi nové verze, každý s polovièní velikostí toho pøedchozího. To je
provádìno použitím <a href="../corefilters/reduceby2.htm">ReduceBy2</a>,
nebo volitelného <a href="../corefilters/resize.htm">resizeru</a>. Tyto snímky jsou pak všechny zvìtšeny zpátky na pùvodní
velikost pomocí BilinearResize.&nbsp;
Tyto snímky jsou pak porovnány s pùvodním, a pokud je rozdíl pod
prahovou hodnotou, je informace použita pro výsledný pixel.</p>
<p>To samé se provádí pro
pøedchozí a následující snímek - a všechny tyto tøi snímky a jejich
&quot;rozmazané&quot; mipmapy jsou použity pro rekonstrukci každého pixelu.<br>
Prahová hodnota je pøizpùsobena tak,
že více rozmazané obrazy jsou dány nižší prahovou hodnotou než ostøejší verze.</p>
<p>Supermip nejdøív vytváøí tøi snímky (supermipy) z prostorovì rozmazaných obrazù
a dìlá èasové zmìkèení na tìchto tøech snímcích. To významnì redukuje
artefakty pøi silném odšumìní/rozmazání.</p>
<h2>Další možná vylepšení</h2>
<ul style="font-family: helvetica,arial,sans-serif;">
  <li>Upravitelný poèet mipù.</li>
  <li>Pøíklady obrázkù v dokumentaci.</li>
  <li>GUI.
  </li>
</ul>
<p><kbd>$English Date: 2004/08/13 21:57:25 $</kbd></p>
<p><kbd>Èeský pøeklad:15.2.2009</kbd></p>
</body>
</html>
