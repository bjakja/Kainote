<html>
<head>
<title>ShowCombedTIVTC</title>
<link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: tivtc_showcombedtivtc.htm,v 1.1 2010/02/27 14:50:14 wilbertd Exp $
-->
</head>
<body>
<h1>ShowCombedTIVTC</h1>
<h2>Pøehled</h2>
<b>autor:</b>    tritical
<br><b>verze:</b>  1.2<br>
<b>stáhnout:</b>   <a href="http://bengal.missouri.edu/~kes25c/">http://bengal.missouri.edu/~kes25c/</a>
<br><b>kategorie:</b>    Odstraòování prokládání &amp; pulldown
<br><b>požadavky:</b>&nbsp;
<ul>
  <li>YV12 &amp; YUY2 Barevné prostøedí</li>
</ul>

<p><b>licence:</b> GPL</p>

<hr size=2 width="100%" align=center>

<!-- #EndTemplate -->
<h2>Popis
</h2>
<p>ShowCombedTIVTC poskytuje jednoduché prostøedky pro úpravu parametrù detekce roztøepených snímkù
   v TFM (cthresh, MI, chroma, blockx, blocky, metric) a  pro pøedstavu jak ovlivòují to, které pixely
   jsou detekovány jako roztøepené a které bloky mají hodnoty vìtší než MI.  IsCombedTIVTC je utilitní
   funkce, která mùže být použita uvnitø podmínìného filtru (conditionalfilter) AviSynthu, a používá v TFM vestavìnou detekci
   roztøepení snímku pro testování, zda je nebo není snímek roztøepený a vrací true pokud je a
   false pokud není.</p>
<h3>Syntaxe</h3>
<p><code>ShowCombedTIVTC</code> (clip, int <var>&quot;cthresh&quot;</var>, bool <var>&quot;chroma&quot;</var>,
int <var>&quot;MI&quot;</var>, int <var>&quot;blockx&quot;</var>, int <var>&quot;blocky&quot;</var>,
int <var>&quot;metric&quot;</var>, bool <var>&quot;debug&quot;</var>, int <var>&quot;display&quot;</var>,
bool <var>&quot;fill&quot;</var>, int <var>&quot;opt&quot;</var>)</p>
<p><code>IsCombedTIVTC</code> (clip, int <var>&quot;cthresh&quot;</var>, int <var>&quot;MI&quot;</var>, bool
<var>&quot;chroma&quot;</var>, int <var>&quot;blockx&quot;</var>, int <var>&quot;blocky&quot;</var>
int <var>&quot;metric&quot;</var>, int <var>&quot;opt&quot;</var>)</p>
<h3>Pøíklad použití IsCombedTIVTC</h3>
<pre>conditionalfilter(last,source1,source2,&quot;IsCombedTIVTC&quot;,&quot;=&quot;,&quot;true&quot;)</pre>
<h2>Parametry</h2>
<p>     Parametry cthresh/MI/chroma/blockx/blocky/metric jsou pøesnì stejné jako
     odpovídající parametry v TFM takže jsem prostì zkopíroval jejich popisy.</p>
<p><var>cthresh</var> -</p>
<p>Toto je prahová hodnota roztøepení oblasti použitá pro detekci roztøepených snímkù.  Je podobná
         dthresh nebo dthreshold v telecide() a fielddeinterlace().  To v podstatì
         ovládá jak "silné" nebo "viditelné" musí být roztøepení, aby bylo detekované.  Vìtší hodnoty
         znamenají, že roztøepení musí být více viditelné a menší hodnoty znamenají, že mùže být ménì
         viditelné nebo silné a pøitom stále detekované.  Platná nastavení jsou od -1 (každý pixel
         bude detekován jako roztøepený) do 255 (žádný pixel nebude detekovaný jako roztøepený).  Je to
         v podstatì hodnota rozdílu pixelu.  Dobrý rozsah je mezi 8 až 12.</p>
<p>Výchozí:  9  (int)</p>
<p><var>MI</var> -</p>
<p>Poèet roztøepených pixelù uvnitø blokù o rozmìrech blocky na blockx na snímek
         pro to, aby byl snímek detekován jako roztøepený. Zatímco cthresh ovládá jak "viditelné" musí
         roztøepení být, toto nastavení ovládá "kolik" roztøepení musí být v každé lokalizované oblasti
         (okno definované  nastavením blockx a blocky) ve snímku.  Minimální nastavení = 0,
         maximální nastavení = blocky x blockx (což je bod ve kterém nebudou nikdy žádné snímky detekovány jako roztøepené).</p>
<p>Výchozí:  80  (int)</p>
<p><var>chroma</var> -</p>
<p>Nastavuje, zda má a nebo nemá být barevnost uvažována pøi rozhodování o roztøepenosti snímku.  Vypnìte
         ho jen, když má váš zdroj problémy s barevností (duha, atd...) , které
         zpùsobují problémy detekci roztøepení snímku pøi zapnutém chroma.  Ve skuteènosti
         je jeho nastavení na false obvykle dobré, kromì pøípadu kdy je ve zdroji roztøepená jen
         barevnost.</p>
<p>true = barevnost (chroma) je zahrnuta<br>
   false = barevnost (chroma) není zahrnuta</p>
<p>Výchozí:  false  (bool)</p>
<p><var>blockx</var> -</p>
<p>Nastavuje x-ovou velikost okna použitého pøi detekci roztøepení snímku.
         To se týká velikosti oblasti, ve které je vyžadován MI poèet pixelù, aby to bylo
         detekováno jako roztøepení pro deklarování roztøepeného snímku.  Viz popis parametru MI
         pro více informací.  Možné hodnoty jsou jakákoliv èísla, která jsou druhými mocninami èísla 2
         poèínaje 4 a konèe 2048 (t.j. 4, 8, 16, 32, ... 2048).</p>
<p>Výchozí:  16  (int)</p>

<p><var>blocky</var> -</p>
<p>Nastavuje y-ovou velikost okna použitého pøi detekci roztøepení snímku.
         To se týká velikosti oblasti, ve které je vyžadován MI poèet pixelù, aby to bylo
         detekováno jako roztøepení pro deklarování roztøepeného snímku.  Viz popis parametru MI
         pro více informací.  Možné hodnoty jsou jakákoliv èísla, která jsou druhými mocninami èísla 2
         poèínaje 4 a konèe 2048 (t.j. 4, 8, 16, 32, ... 2048)</p>
<p>Výchozí:  16  (int)</p>

<p><var>metric</var> -</p>

<p>Nastavuje, která prostorová (spatial) metrika roztøepení je použita pro detekci roztøepených pixelù.  Možné
  volby:</p>

<p>Pøedpokládejme 5 sousedních pixelù (a,b,c,d,e) umístìných vertikálnì.

                <ul>    a
                <br>    b
                <br>    c
                <br>    d
                <br>    e</ul>
<pre>
<p>            0:  d1 = c - b;
<p>                d2 = c - d;
<p>                if ((d1 > cthresh && d2 > cthresh) || (d1 < -cthresh && d2 < -cthresh))
<p>                {
<p>                   jestliže (abs(a+4*c+e-3*(b+d)) > cthresh*6) tak je roztøepený;
<p>                }
<p>
<p>            1:  val = (b - c) * (d - c);
<p>                jestliže (val > cthresh*cthresh) tak je roztøepený;
</pre>
<p>         Metriku 0 showcombedtivtc používal pøed verzí v1.2.  Metrika 1 je
         metrika roztøepení používaná ve funkcích FieldDeinterlace()/IsCombed() od Donalda Grafta
         v decomb.dll.

<p>         Výchozí:  0  (int)


<p><var>opt</var> -</p>

         <p>Øídí, které cpu optimalizace jsou použity.  Možná nastavení:
<p>        0 - použít c rutiny<br>
            1 - použít mmx rutiny<br>
            2 - použít isse rutiny<br>
            3 - použít sse2 rutiny<br>
            4 - autodetekce

<p>Následující parametry jsou využity jen v ShowCombedTIVTC a ne v IsCombedTIVTC!

<p><var>debug</var> -</p>

         <p>Mic hodnota každého pixelu, spolu s poètem detekovaných roztøepených pixelù a
         poètem blokù s množstvím mic vìtším než MI budou vysílány pøes OutDebugString().
         Mùžete použít free program "Debugview" pro zobrazení tohoto výstupu.  Když má snímek
         hodnotu mic > MI ladící (debug)) výstup vyšle zprávu o roztøepení snímku.

         <p>Výchozí:  false  (bool)

<p><var>display</var> -</p>

         <p>Ovládá co se píše a/nebo vykreslí do výstupního snímku.  Možné hodnoty:

            <ul>0 - pixely detekovány jako roztøepené jsou oznaèeny bíle
            <br>1 - blok s nejvyššími hodnotami bude buï ohranièen nebo
            <br>       vyplnìn bíle, v závislosti na hodnotì parametru "fill"
            <br>2 - všechny bloky s hodnotami nad MI budou buï  ohranièeny nebo
            <br>       vyplnìny bíle , v závislosti na hodnotì parametru "fill"
            <br>3 - 0 + 1
            <br>4 - 0 + 2
            <br>5 - nic, žádný výstup</ul>

         <p>Možnosti 0-4 také vysílají všechny informace, které jsou vysílány pøes možnost debug
        (poèet pixelù detekovaných jako roztøepené, poèet blokù s hodnotami > MI, MIC hodnoty
         snímku).

         <p>Výchozí:  3  (int)


<var><p>fill</var> -</p>

         <p>Použité jen pøi display = 1, 2, 3, 4.  Když je fill nastaveno na true tak jsou bloky vyplnìny
         bíle s èerným pixelem uprostøed.  Když je fill nastaveno na false
         tak jsou bloky ohranièeny bíle/èernì (v závislosti ne barvì pozadí).

         <p>Výchozí:  false (bool)



<h2>Senam zmìn:</h2>


<p>(12/07/2006)

<ul><li>- fixed IsCombedTIVTC causing tfm to throw an error on construction resulting
          in invalid output
</ul>

<p>v1.2 - (03/23/2006)

<ul><li>+ added new spatial combing metric (metric=1) and metric parameter
<li>    - replace frame copy with makewritable
<li>    - fixed cthresh < 0 not working correctly
</ul>

<p>v1.1 - (01/24/2006)

<ul><li>+ ported mmx/isse/sse2 optimizations from tfm
<li>    + added opt parameter
</ul>


<h2>NA DOPRACOVÁNÍ:</h2>


<ul><li>- nic
</ul>


<p><kbd>$English Date: 2005/07/10 16:11:01 $</kbd></p>
<p><kbd>Èeský pøeklad:7.4.2009</kbd>
</p>
</body>
</html>
