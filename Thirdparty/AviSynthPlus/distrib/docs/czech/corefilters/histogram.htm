<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-2">
   <TITLE>Histogram Avisynth Filter</TITLE>
   <link rel="stylesheet" type="text/css" href="../../avisynth.css">
</HEAD>
<BODY>
<h2>
<A NAME="Greyscale"></A>Histogram
</h2>
<P><code>Histogram </code>(<var>clip, string ''mode''</var>)</P>
<P>     Pøidává&nbsp;histogram jasu na pravou stranu klipu.</P>
<P>  Od&nbsp;AviSynthu <em>v2.50</em>
tento filtr také zobrazí&nbsp;platné a neplatné
barvy v&nbsp;YUV re¾imech. Neplatné hodnoty&nbsp;(pod 16 a nad&nbsp;235) budou vybarveny do hnìda/¾luta.<P> Od&nbsp; <em>v2.53</em>:Byl pøidán volitelný parametr <var>mode</var>&nbsp;pro zobrazení doplòujících informací&nbsp;o klipu.
<var>mode</var>&nbsp;mù¾e být "Classic" (výchozí,&nbsp;klasický
starý re¾im), "Levels" -
úrovnì, "Color" - barva, "Luma" - jas (<em>v2.54</em>), "Stereo"(<em>v2.54</em>), "Stereooverlay"(<em>v2.54</em>), "Color2" (<em>v2.58</em>) a "Audiolevels" (<em>v2.58</em>).
<h3>Klasický re¾im "Classic"</h3>
<p><IMG height=288 src="../../english/pictures/corefilters/histogram_classic.jpg" width=608 border=0></p>
<P>                Po øádcích pøidává graf&nbsp;jasu&nbsp;(nazývaný&nbsp;Waveform Monitor) na pravou stranu videa. Levá strana grafu reprezentuje&nbsp;jas-luma =    0 a pravá&nbsp;strana reprezentuje&nbsp;jas-luma =      255. Neplatné rozsahy podle CCIR-601&nbsp;jsou jsou zabarveny do&nbsp;hnìda/¾luta, a zelenkavá&nbsp;èára reprezentuje Y = 128.<br>
<br>
  Dostupné v YUV re¾imech.<h3>Re¾im úrovnì "Levels"</h3>
<p><IMG height=256 src="../../english/pictures/corefilters/histogram_modelevels.jpg" width=256 border=0></p>
<P>            Tento re¾im zobrazí tøi grafy úrovní na pravé stranì video snímku&nbsp;(které jsou nazývány&nbsp;Histogramy). Zobrazí rozdìlení&nbsp;komponent Y, U a V komponent&nbsp;v aktuálním snímku.
<P>Horní graf zobrazuje&nbsp;rozdìlení jasu (Y)&nbsp;ve
snímku, kde levá strana&nbsp;reprezentuje Y =    0
a pravá strana reprezentuje Y =
                                 255.&nbsp;Platný rozsah&nbsp;CCIR601&nbsp;bude zobrazen mírnì&nbsp;odli¹nou barvou&nbsp;a Y =                   128 bude&nbsp;oznaèen èárkovanou èárou. Svislé osy&nbsp;zobrazují&nbsp;poèet pixelù&nbsp;pro danou hodnotu&nbsp;jasu (Y) . Støední&nbsp;graf zobrazí&nbsp;komponentu U, a spodní graf zobrazí&nbsp;komponentu V.
<P>  Dostupný&nbsp;v YV12 re¾imu.<h3>Re¾im barva "Color"</h3>
<P><IMG height=256 src="../../english/pictures/corefilters/histogram_modecolor.jpg" width=256 border=0>
<P>           Tento           re¾im zobrazí hodnoty barevnosti (U/V rozmístìní barev)
ve dvourozmìrném grafu (který se&nbsp;nazývá&nbsp;Vectorscope) na pravé stranì
video snímku. Mù¾e být pou¾it ke ètení odstínu a sytosti klipu. Souèasnì je
to histogram. Èím bìlej¹í je pixel ve           vectorescopu, tím více pixelù vstupního klipu odpovídá takovému pixelu (to je, ¾e více pixelù má tuto barevnou hodnotu).&nbsp;
<P>       Komponenta U&nbsp;je zobrazena&nbsp;na&nbsp;vodorovné&nbsp;ose (osa X), na levém kraji je&nbsp;U =  0 a na pravém kraji&nbsp;je U =
    255. Komponenta&nbsp;V je zobrazena na svislé ose (osa Y),&nbsp;nahoøe je &nbsp;V =   0 a dole je&nbsp;V = 255.
<P>                                        Pozice bílého pixelu v grafu odpovídá&nbsp;barevné hodnotì pixelu vstupního klipu. Tento graf mù¾e být tedy pou¾it pro&nbsp;ètení odstínu&nbsp;(nádechu barvy) a&nbsp;sytosti (pøevaha odstínu v barvì). Jak se mìní odstín barvy, pohybuje se kolem ètverce. Ve støedu ètverce, je&nbsp;sytost&nbsp;nula, co¾ znamená, ¾e&nbsp;odpovídající pixel&nbsp;nemá ¾ádnou barvu. Pokud zvìt¹ujete mno¾ství dané barvy, zatímco jiné barvy necháte nezmìnìné,&nbsp;sytost se zvìt¹í, a posouvá se&nbsp;smìrem ke kraji&nbsp;ètverce.
<P>Dostupný&nbsp;v YV12 re¾imu.
<h3>Re¾im barva2 "Color2"</h3>
<p><IMG height=288 src="../../english/pictures/corefilters/histogram_modecolor2.jpg" width=616 border=0></p>
<p>
    Tento re¾im zobrazí pixely ve dvourozmìrném grafu (který  se nazývá&nbsp;vectorscope)&nbsp;na pravé stranì videosnímku.
 Mù¾e být pou¾it ke ètení odstínu a sytosti klipu.</p>
<p>       Komponenta&nbsp;U&nbsp;je zobrazena na&nbsp;horizontální ose&nbsp;(X) , na
 levé stranì je&nbsp;U =   0 a&nbsp;na pravé stranì je&nbsp;U =
    255.&nbsp;Komponenta V&nbsp;je zobrazena na&nbsp;vertikální (Y) ose,&nbsp;nahoøe je V =
 0 a&nbsp;dole je&nbsp;V =     255.&nbsp;©edý ètverec ukazuje na platný rozsah&nbsp;CCIR601.</p>
<p>


       Pozice pixelu&nbsp;v grafu&nbsp;odpovídá hodnotì barevnosti&nbsp;pixelu&nbsp;vstupního klipu.&nbsp;Tento graf mù¾e být
 tedy pou¾it pro&nbsp;ètení odstínu&nbsp;(nádechu barvy) a&nbsp;sytosti (pøevaha odstínu v barvì). Jak se mìní
 odstín barvy, pohybuje se kolem kruhu. Ve støedu kruhu je&nbsp;sytost&nbsp;nula, co¾ znamená, ¾e&nbsp;odpovídající pixel&nbsp;nemá
 ¾ádnou barvu. Pokud zvìt¹ujete mno¾ství dané barvy, zatímco jiné barvy necháte nezmìnìné,&nbsp;sytost
 se zvìt¹í, a posouvá se&nbsp;smìrem ke kraji&nbsp;kruhu. Je zde zanesena barevná kru¾nice&nbsp;rozdìlená na ¹est
 odstínù&nbsp;(èervená, ¾lutá, zelená, tyrkysová,&nbsp;modrá a purpurová) aby vám pomohli èíst hodnoty odstínù. Také jsou na
 ni vyneseny bílé body po 15&nbsp;stupních.</p>
<p>Pøi&nbsp;U=255, V=    128 je odstín nulový (co¾ odpovídá modré)
 a sytost je maximální,&nbsp;to je, sqrt( (U-128)^2 + (V-128)^2 ) =
  127. Pøi otoèení&nbsp;bílých hodin (clock-wise),&nbsp;øeknìme o&nbsp;90 stupòù,&nbsp;je barevnost dána U=128, V=
           255 (co¾
 odpovídá èervené). Pøi udr¾ování konstantního odstínu a&nbsp;sni¾ování sytosti,&nbsp;se rozumí, ¾e&nbsp;se pohybujeme z kruhu do støedu&nbsp;vectorscopu.
 Proto se nádech barvy nemìní (a sice èervená), pouze se pomalu mìní
 do èernobílé.&nbsp;&nbsp;atd ...</p>
<p>Dostupný v&nbsp;YV12 re¾imu.</p>
<h3>Re¾im jas "Luma"</h3>
<P><p><IMG height=256 src="../../english/pictures/corefilters/histogram_modeluma.jpg" width=416 border=0></p>
<P>          Tento re¾im&nbsp;zesílí jasovou slo¾ku, a zobrazí&nbsp;velmi malé&nbsp;rozdíly&nbsp;jasu. To je dobré pro detekci&nbsp;blokù a ¹umu, a mù¾e pomoci k nastavení parametrù filtru. V tomto re¾imu&nbsp;bude hodnota rozdílu jasu 1 daného pixelu&nbsp;zobrazena jako 16, a tak výraznì zvìt¹í malé defekty.&nbsp;
<P>   Dostupný&nbsp;v&nbsp;YV12 re¾imu.
<h3>Re¾imy Stereo a StereoOverlay</h3>
<P><IMG height=512 src="../../english/pictures/corefilters/histogram_modestereo.gif" width=512 border=0>
<P>Tento re¾im&nbsp;zobrazí klasický stereo
graf&nbsp;audio&nbsp;klipu. Nìkteøí ho mohou znát
z nahrávacích studií. Mù¾e být u¾iteèný&nbsp;pro prohlédnutí&nbsp;rozdìlení na levé-pravé a&nbsp;rozdìlení fáze&nbsp;vstupního signálu. StereoOverlay&nbsp;bude pøekrývat graf&nbsp;navrchu&nbsp;originálu. Ka¾dý snímek&nbsp;bude obsahovat&nbsp;pouze informaci z aktuálního snímku&nbsp;do zaèátku dal¹ího snímku. Signál je lineárnì pøevzorkován (zvý¹ení poètu vzorkù) 8x, aby byla èist¹í vizualizace.
<P> Tento re¾im vy¾aduje&nbsp;vstupní stereo signál&nbsp;a StereoOverlay&nbsp;vy¾aduje YV12 video.
<h3>Re¾im AudioLevels</h3>
<p><IMG height=288 src="../../english/pictures/corefilters/histogram_audiolevels.jpg" width=352 border=0></p>
<p>Tento re¾im zobrazuje&nbsp;hlasitosti audia&nbsp;pro ka¾dý&nbsp;kanál&nbsp;v decibelech&nbsp;(je podporováno
  více kanálù). Pøesnìji je zde urèeno:</p>
<ul>
  <li>koøenová støední kvadratická hodnota&nbsp;vzorkù
	pøíslu¹ející ka¾dému snímku a&nbsp;pøevádí tuto hodnotu&nbsp;na decibely&nbsp;pou¾itím následujícího vztahu:<br>
    <br>
    RMS = 20 * log_10( sqrt( sum_j( sample(j)^2 ) / j ) / 32768 )&nbsp; # pro ka¾dý kanál<br>
  <li>maximální&nbsp;hlasitost&nbsp;vzorkù&nbsp;pøíslu¹ejících
	ka¾dému snímku&nbsp;a&nbsp;pøevádí ji&nbsp;na hodnotu v decibelech&nbsp;pou¾itím následujícího vztahu:<br>
    <br>
    max = 20 * log_10( max_j( sample(j) ) / 32768 )&nbsp; # pro ka¾dý kanál<br>
    <br>

  Sloupce odpovídající&nbsp;koøenové&nbsp;støední&nbsp;kvadratické
  hodnotì jsou&nbsp;zelené, a&nbsp;pro maxima&nbsp;jsou
	modré.&nbsp;Filtr&nbsp;je dostupný&nbsp;v planárním&nbsp;re¾imu a&nbsp;audio&nbsp;je pøevedeno na&nbsp;16 bit.&nbsp;V¹imnìte si, ¾e pro&nbsp;16 bit audio, by mohla být&nbsp;maximální&nbsp;hlasitost<br>
    <br>
    20 * log_10(32768/32768) = 0
    dB (proto¾e 2^16/2 =
             32768)<br>
    <br>
      a&nbsp;minimální hlasitost<br>
    <br>
    20 * log_10(1/32768) = - 90.31 dB</li>
</ul>
<p><b>Zmìny:</b></p>
<table border="1">
  <tbody>
    <tr>
      <td>v2.53</td>
      <td>Pøidány rùzné re¾imy.</td>
    </tr>
    <tr>
      <td>v2.55</td>
      <td>Pøidány body k re¾imu =  "stereo"&nbsp;pro zobrazení sklonu/posunu.</td>
    </tr>
    <tr>
      <td>v2.56</td>
      <td>Pøidány neplatné barvy v re¾imu&nbsp;YUY2.</td>
    <tr>
      <td>v2.58 </td>
      <td>Pøidány re¾imy Color2 a AudioLevels.</td>
    </tr>
    <tr>
      <td>v2.60 </td>
      <td>Pøidána&nbsp;planární podpora.</td>
    </tr>
  </tbody>
</table>
<p><kbd>$English Date: 2007/09/12 07:54:58 $</kbd></p>
<P><KBD>Èeský pøeklad:12.2.2009</KBD></P>
<FORM><INPUT TYPE="button" VALUE="Zpìt"
 onClick="history.go(-1)"></FORM>
</BODY>
</HTML>

















