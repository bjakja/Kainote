<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <title>Crop / CropBottom Avisynth Filter</title>
   <link rel="stylesheet" type="text/css" href="../../avisynth.css">
</head>
<body >
<h2>
<a NAME="Crop"></a>Crop
/ CropBottom
</h2>
<p><code>Crop </code>(<var>clip, int left, int top, int width, int height,
bool "align</var>")<br>
  <code>Crop </code>(<var>clip, int left, int top, int -right, int -bottom,
bool "align"</var>)<br>
  <code>CropBottom </code>(<var>clip, int count, bool align</var>)
<p><code>Crop</code> oøezává
pøebyteèné&nbsp;pixely&nbsp;ka¾dého snímku.
<p>Pokud
 má Va¹e video rozli¹ení 720x480, a vy ho chcete zmen¹it na 352x240&nbsp;pro
VideoCD, zde je správnı zpùsob jak to udìlat:
<pre># Pøevede CCIR601 na VCD, pøi zachování správného pomìru stran AR
ReduceBy2
Crop(4,0,352,240)</pre>Podívejte se do kapitoly&nbsp; <A href="convert.htm">filtry pro pøevod barevnıch prostøedí</A>&nbsp;na omezení&nbsp;pøi pou¾ití&nbsp;rùznıch barevnıch formátù.
<p>Pokud je vstoupena záporná hodnota ¹íøky <var>width</var> a vı¹ky&nbsp; <var>height</var> tak je s nimi zacházeno také jako s posunem.&nbsp;Napøíklad:
<pre># Oøíznout 16 pixelù kolem celého obrazu, bez ohledu na velikost obrazu:
Crop(16,16,-16,-16)</pre>
<p>Ve&nbsp; <em>v2.53</em>&nbsp;je
pøidána volba <var>align</var>   (false jako vıchozí):<br>
  Oøíznutí&nbsp;YUY2/RGB32 obrazu je v¾dy násobkem 4 (ètyø
bajtové). Nicménì, pøi&nbsp;ètení x bajtù
(celého 32bitového èísla), probìhne operace rychleji, kdy¾ je ètené srovnáno podle nìkteré&nbsp;násobné
hodnoty. MMX/SSE&nbsp;jako 8-bajtové zarovnání a SSE2 jako&nbsp;16-bajtové zarovnání. Pokud data nejsou zarovnána, ka¾dá
operace&nbsp;ètení/psaní&nbsp;bude zpo¾dìna&nbsp;nejménì o&nbsp;4 cykly. Proto jsou zobrazení v¾dy zarovnána&nbsp;na násobky 16, pokud jsou vytváøena&nbsp;AviSynthem.<br>
  <br>
  Pokud byl obraz oøíznut, tak bude nìkdy umístìn v nezarovnané&nbsp;pamìti , potom
- "<var>align</var> =
    true" zkopíruje vstupní snímek&nbsp;z nezarovnané pamìti do zarovnané. Tedy pokud je
zdr¾ení následujícího filtru vìt¹í ne¾ zdr¾ení z kopírování kompletního obrazu,&nbsp;pou¾ití&nbsp;&nbsp;"<var>align</var> =
  true" bude rychlej¹í. Obzvlá¹tì je-li následován&nbsp;vyhlazovaèi.<br>
  <br>
 Alternativa <code>CropBottom</code>&nbsp;je u¾iteèná pro&nbsp;oøíznutí smetí ze spodu&nbsp;klipu zachytávaného z&nbsp;VHS kazet. Odstraní poèet&nbsp; <var>count</var>&nbsp;øádkù ze spodu&nbsp;ka¾dého snímku.
</p>


<h2><span class="mw-headline">Zarovnání pamìti</span></h2>
<p>Ve v2.53 je pøidána mo¾nost <i>align</i> (false je vıchozí):</p>
<p>Oøíznutí YUY2/RGB32 obrazu je v¾dy násobkem 4 (ètyøi bajty). Nicménì, pøi
ètení x bajtù (nìjaké celé èíslo), je to rychlej¹í kdy¾ je ètení zarovnané na násobek x
umístìní v pamìti. MMX/SSE mají rády 8-bajtové zarovnání a SSE2 ráda 16-bajtové
zarovnání. Pokud data NEJSOU zarovnána, ka¾dá operace ètení/zápis bude zpo¾dìna
nejménì o 4 cykly. Tak¾e obrázky jsou v¾dy zarovnány na násobky 16 kdy¾ jsou vytváøeny
AviSynthem.</p>
<p>Pokud byl obraz oøíznut, bude obèas umístìn nezarovnanı v pamìti
 - &quot;align = true&quot; zkopíruje celı snímek z nezarovnaného
umístìní v pamìti do nìjakého zarovnaného. Tak¾e pokud penalizace následujícího filtru je
vìt¹í ne¾ penalizace kopírování úplného obrazu, pou¾ití &quot;align=true&quot;
bude rychlej¹í. Obzvlá¹ kdy¾ je to následováno vyhlazovaèi.</p>
<a name="Crop_restrictions"></a>
<h2><span class="mw-headline">Omezení oøíznutí</span></h2>
<p>Pro zachování struktury&nbsp;dat v rùznıch barevnıch prostøedích, je nutné pou¾ít následující podmínky. Pokud nejsou
splnìny&nbsp;nezobrazují se chybové zprávy, ale mohou se objevit zvlá¹tní artefakty. Pro úplnou diskuzi o tomto,
viz <font color="#FF0000">DataStorageInAviSynth ...</font></p>
<table border="1" width="50%">
  <tr>
    <td width="25%" rowspan="2" align="center"><b>Barevné prostøedí</b></td>
    <td width="25%" rowspan="2" align="center"><b>©íøka</b></td>
    <td width="50%" colspan="2" align="center"><b>Vı¹ka</b></td>
  </tr>
  <tr>
    <td width="25%" align="center"><b>progresivní video</b></td>
    <td width="25%" align="center"><b>prokládané video</b></td>
  </tr>
  <tr>
    <td width="25%">RGB</td>
    <td width="25%"><i>bez omezení</i></td>
    <td width="25%"><i>bez omezení</i></td>
    <td width="25%">násobek-2</td>
  </tr>
  <tr>
    <td width="25%">YUY2</td>
    <td width="25%">násobek-2</td>
    <td width="25%"><i>bez omezení</i></td>
    <td width="25%">násobek-2</td>
  </tr>
  <tr>
    <td width="25%">YV12</td>
    <td width="25%">násobek-2</td>
    <td width="25%">násobek-2</td>
    <td width="25%">násobek-4</td>
  </tr>
</table>
<p>Poznámka: <a href="resize.htm">Resize funkce</a> volitelnì umo¾ní&nbsp;èásteèné oøezání pixelù&nbsp;vstupního snímku, to vede k
pou¾ití vá¾ení pøi zmìnì velikosti krajních pixelù.&nbsp;Tyto volby&nbsp;mohou bıt&nbsp;pou¾ity pokud se omezení
n-násobku pro oøíznutí jeví jako nevhodné.
<p> Poznámka: Funkce&nbsp;resize&nbsp;volitelnì umo¾ní&nbsp;èásteèné oøezání pixelù&nbsp;vstupního snímku, to vede k
pou¾ití vá¾ení pøi zmìnì velikosti krajních pixelù.&nbsp;Tyto volby&nbsp;mohou bıt&nbsp;pou¾ity pokud se omezení
n-násobku pro oøíznutí jeví jako nevhodné.&nbsp;Viz <A href="resize.htm">Funkce pro zmìnu
velikosti</A>. Obecnì -- "Pro oøíznutí
tvrdıch artefaktù jako&nbsp;¹um&nbsp;VHS hlav,&nbsp;nebo okrajovıch pruhù&nbsp;v¾dy pou¾ijte Crop.
Pro vyjmutí&nbsp;èásti obrazu&nbsp;a podporu správného pøepoètu na krajích&nbsp;pou¾ijte&nbsp;funkci resize&nbsp;s oøezávacími parametry."
(<a href="http://forum.doom9.org/showthread.php?s=&amp;threadid=91630">Doom9</a>)
<p><kbd>$English Date: 2009/07/12 12:49:33 $</kbd></p>
<P><KBD>Èeskı pøeklad:18.9.2009</KBD></P>
<form><input TYPE="button" VALUE="Zpìt"
 onClick="history.go(-1)"></form>
</body>
</html>






