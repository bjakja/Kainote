<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="ru">
<head>
<meta http-equiv="Content-Language" content="ru">
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
  <title>SpatialSoften / TemporalSoften Avisynth Filter</title>
  <link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: soften.htm,v 1.6 2008/09/08 16:43:48 fizick Exp $
-->
</head>
<body>
<h2>
<a name="Soften"></a>SpatialSoften
/ TemporalSoften
</h2>
<p><code>SpatialSoften </code>(<var>clip, int radius, int
luma_threshold, int
chroma_threshold</var>)<br>
<code>TemporalSoften </code>(<var>clip, int radius, int
luma_threshold, int
chroma_threshold, int "scenechange", int "mode"</var>)
</p>
<p>Фильтры <code>SpatialSoften</code> (смягчение в плоскости кадра)
and <code>TemporalSoften (</code>смягчение<code> в межкадровом, временном
направлении)</code> удаляют шумы из видеоклипа с помощью избирательного
смешивания (blending) пикселов. Эти фильтры буквально могут творить чудеса, и я
настоятельно рекомендую Вам попробовать их. Но они также могут и
затереть нужные детали, если задать их значения слишком сильными,
потому не перестарайтесь. Ну и они очень медленные, особенно при
больших значениях&nbsp; <var>radius</var>, потому не включайте их,
пока не убедитесь, что все готово к окончательному фильтрованию.
</p>
<p><code>SpatialSoften</code> заменяет значение интенсивности каждого пиксела (sample) в кадре средним
всех соседних, отличающихся от центрального не более чем
на указанную пороговую величину. "Соседний"&nbsp; -
значит пиксел не далее чем на +/- <var>radius</var> по горизонтали (x) и
вертикали (y). Используется порог <var>luma_threshold</var> для Y (яркостной
составляющей), и порог <var>chroma_threshold</var> для U и
V (цветовых составляющих).
</p>
<p><code>TemporalSoften</code> аналогичен, исключая то, что он
просматривает одну и ту же точку в соседних кадрах. Используются все
кадры, отстоящие не далее чем на +/- <var>radius</var>  от центрального.
Этот фильтр не выглядит столь же эффективным, как <code>SpatialSoften</code>.
</p>
<p>Рекомендуется "поиграть" с параметрами для этих фильтров, чтобы
получить представление о том, что они делают - к примеру попробуйте
установить одному из трех параметров очень высокое значение, оставляя
другие низкими, и смотрите что выйдет. Помните, что установка любого
из параметров в 0.0 станет причиной очень медленного ничего-не-делания.</p>
<code>TemporalSoften</code> сглаживает яркостную и цветовую
составляющую раздельно, но <code>SpatialSoften</code>
сглаживает только если обе составляющие, яркостная и цветовая,
соответствуют пороговым условиям.
<p>Фильтры <code>SpatialSoften</code>
работает только в цветовом формате YUY2. Можно использовать <code><a
 href="convert.htm">ConvertToYUY2</a></code> если исходный видео-клип
не в YUY2.
</p>
<p>Обратите внимание, что при использовании версий AviSynth от <em>2.04</em>
и выше, нет больше необходимости использовать плагин TemporalSoften2,
встроенный TemporalSoften его вполне заменяет.
</p>
<p>Начиная с версии <em>2.50</em>, в <code>TemporalSoften</code>
добавлены две опции<code></code>:
</p>
<ul>
  <li>Дополнительный параметр <var>mode</var><i>=2</i>: он реализует
новый лучший способ смешивания кадров и обеспечивает лучшее качество.
Он также намного быстрее. Требует ISSE. <var>mode=1</var>
является режимом по умолчанию и работает как ранее.</li>
  <li>Дополнительный параметр <var>scenechange=n</var>: использование
этого параметра позволит избежать смешивания (blending) при смене сцен. 'n'
определяет максимальное среднее значение межкадровых отличий. Хорошие
значения для 'n' находится в пределах от 5 до 30. Требует ISSE.</li>
</ul>
<p>Хорошие значения для начала: <code>TemporalSoften</code>(4,4,8,15,2)</p>
<p><b>Изменения:</b></p>
<table border="1" width="22%">
  <tr>
    <td width="7%">v2.56</td>
    <td width="93%">TemporalSoften работает также и с RGB32 видео (как и YV12, YUY2)</td>
  </tr>
</table>
<p><kbd>$English Date: 2006/08/26 06:52:55 $<br>
Русский перевод 21.05.2005 Turyst04 <a href="mailto:Turyst04@nextmail.ru">Turyst04@nextmail.ru</a></kbd>
</p>
<form><input value="Back" onclick="history.go(-1)" type="button"></form>
</body>
</html>
