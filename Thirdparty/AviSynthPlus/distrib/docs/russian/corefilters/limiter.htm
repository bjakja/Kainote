<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="ru">
<head>
<meta http-equiv="Content-Language" content="ru">
   <meta http-equiv="Content-Type" content="text/html; charset="win-1251">
   <title>Limiter Avisynth Filter</title>
   <link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: limiter.htm,v 1.5 2008/09/08 16:43:48 fizick Exp $
-->
</head>
<body>
<h2>
<a NAME="Limiter"></a>Limiter
</h2>
<p><code>Limiter </code>(<var>clip, int &quot;min_luma&quot;, int
&quot;max_luma&quot;, int &quot;min_chroma&quot;,
int &quot;max_chroma&quot;, string &quot;show&quot;</var>)
<p>Этот фильтр появился в версии <em>v2.5</em>. Стандарт, который называется
CCIR-601, определяет диапазон значений пикселов, допустимый для отображения
на телеэкране. Этот диапазон составляет 16-235 для яркостной компоненты
и 16-240 для цветности.
<p>Значения вне данного диапазона могут неправильно отображаться на
некоторых телевизорах, и неплохо было бы исключить их перед кодированием,
конечно если планируется просматривать видео именно на телевизоре.
По умолчанию этот фильтр обрезает (выравнивает) значения пикселов, меньшие
16 до значения 16, а большие 235 (или 240 для цвета) до 235 (соотв. 240).
<p>До версии <em>v2.53</em> значение по умолчанию было неправильным
и составляло 236 (а не 235). В этих версиях необходимо использовать
Limiter(16, 235, 16, 240) для получения сигнала, соответствующего
стандарту CCIR-601.

<p>В версии &nbsp; <em>2.56</em>, добавлен необязательный параметр
<var>show</var>.
Если он задан, то пикселы со значениями вне указанного
диапазона [min_luma,max_luma] или [min_chroma,max_chroma] будут выделены цветом.
<p>Параметр <var>show</var> может иметь значения "luma" (показывает пикселы
с яркостью вне диапазона как красные/зеленые),
"luma_grey" (показывает пикселы с яркостью вне диапазона
и делает все остальные пикселы серыми),
"chroma" (окрашивает все пикселы с цветностью вне диапазона в желтый),
"chroma_grey" (показывает все пикселы с цветностью вне диапазона
и делает все остальные пикселы серыми). Окраска пикселов происходит следующим образом:
<p>YUY2 (цветность считается общей для двух горизонтально расположенных
пикселей p1 и p2: Y1UY2V):
<p>YV12 (цветность считается общей для квадрата 2x2 Y11uY12v;/Y21uY22v)<br>
Цвета пикселов определяются следующей таблицей:
<table border="1" width="100%">
  <tr>
    <th width="33%">j,k=1,2 или j,k=11,12,21,22</th>
    <th width="33%">luma</th>
    <th width="33%">luma_grey</th>
  </tr>
  <tr>
    <td width="33%">Yj &lt; min_luma</td>
    <td width="33%">pj - красный</td>
    <td width="33%">pj - красный</td>
  </tr>
  <tr>
    <td width="33%">Yj &gt; max_luma</td>
    <td width="33%">pj - зеленый</td>
    <td width="33%">pj - зеленый</td>
  </tr>
  <tr>
    <td width="33%">Yj &lt; min_luma and Yk &gt; max_luma</td>
    <td width="33%">все p - желтый</td>
    <td width="33%">pj - хаки, pk - оливковый</td>
  </tr>
  <tr>
    <th width="33%">&nbsp;</th>
    <th width="33%">chroma</th>
    <th width="33%">chroma_grey</th>
  </tr>
  <tr>
    <td width="33%">U &lt; min_chroma</td>
    <td width="33%">желтый</td>
    <td width="33%">желтый</td>
  </tr>
  <tr>
    <td width="33%">U &gt; max_chroma</td>
    <td width="33%">желтый</td>
    <td width="33%">синий</td>
  </tr>
  <tr>
    <td width="33%">V &lt; min_chroma</td>
    <td width="33%">желтый</td>
    <td width="33%">голубой</td>
  </tr>
  <tr>
    <td width="33%">V &gt; max_chroma</td>
    <td width="33%">желтый</td>
    <td width="33%">красный</td>
  </tr>
  <tr>
    <td width="33%">U &lt; min_chroma and V &lt; min_chroma</td>
    <td width="33%">желтый</td>
    <td width="33%">зеленый</td>
  </tr>
  <tr>
    <td width="33%">U &gt; max_chroma and V &lt; min_chroma</td>
    <td width="33%">желтый</td>
    <td width="33%">цвет морской волны</td>
  </tr>
  <tr>
    <td width="33%">U &lt; min_chroma and V &gt; max_chroma</td>
    <td width="33%">желтый</td>
    <td width="33%">оранжевый</td>
  </tr>
  <tr>
    <td width="33%">U &gt; max_chroma and V &gt; max_chroma</td>
    <td width="33%">желтый</td>
    <td width="33%">вишневый</td>
  </tr>
</table>
<p><b>Changelog:</b></p>
<table border="1">
  <tbody>
    <tr>
      <td>v2.56</td>
      <td>добавлен параметр show чтобы можно было просмотреть пикселы, для которых яркость/цветность
лежат вне установленных пределов
</td>
    </tr>
  </tbody>
</table>

<p><kbd>$English Date: 2005/01/26 22:08:35 $<br>
Русский перевод 25.05.2005 Alexander Nickolsky (anickol@yahoo.com)</kbd></p>
<form><input TYPE="Button" VALUE="Back"
onClick="history.go(-1)"></form>
</body>
</html>
