<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html lang="ru">
<head>
<!--
Automatically generated, don't change:
$Id: releasenotes.htm,v 1.17 2008/12/26 23:27:48 fizick Exp $
-->
    <meta http-equiv="Content-Language" content="ru">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
   <title>Краткая сводка изменений v2.57</title>
   <link rel="stylesheet" type="text/css" href="../avisynth.css">
</head>
<body>
<h2>AviSynth 2.58</h2>

<h3>Краткая сводка изменений (по отношению к 2.57)</h3>

<p>
* Добавлен чешский перевод документации.<br>
* Добавлен польский перевод документации (от Slim, Krismen & Co).<br>
* Добавлен японский перевод документации (от niiyan).<br>
* Особая опция установщика установить avisynth.dll и др., но НЕ обновлять реестр (только распаковка).<br>
* Blankclip: добавлены параметры audio channels= и sample_type=.<br>
* ConvertAudio(cii) доступен для плагинов через env->Invoke().<br>
* Добавлен аспект, поворот и альфа шрифта к текстовым функциям.<br>
* Добавлен /* xxx */ блоковый комментарий.<br>
* Добавлен [* [* xxx *] *] гнездовые (вложенные) блоковые комментарии.<br>
* SetMemoryMax(0) теперь возвращает величину Memory Max.<br>
* Добавлен планарный YV12 цветовой формат к Compare()<br>
* ColorKeyMask: Позволяет независимый  уровень допуска для каждого канала.<br>
* SetMemoryMax(0) теперь возвращает величину Memory Max.<br>
* Добавлен планарный YV12 цветовой формат к Compare()<br>
* Добавлено Tweak Hue/Saturation ограничение диапазона.<br>
* Добавлены AudioLevels и Color2 режимы к Histogram.<br>
* Добавление <strong>global OPT_UseWaveExtensible=True</strong> к вашему скрипту
  разрешает WAVE_FORMAT_EXTENSIBLE аудио выход.<br>
* Добавлена команда ShowTime(), подобно ShowSMPTE() но с миллисекундами.<br>
* Добавлены BlackmanResize() и Spline64Resize().<br>
* Модифицированы DeleteFrame()/DuplicateFrame() для обработки нескольких аргументов.<br>
* Добавлены Min()/Max() скрипт-функции.<br>
<br>
* DirectShowSource() convertfps=true добавить 0.5ms округление r ожидаемому времени отсчета.
Улучшает выполнение с миллисекундно базированными DS сплиттерами.<br>
* DirectShowSource() FPS попробовать длительность 1-го кадра как последняя
попытка.<br>
* DirectShowSource() convertfps зависит только от начального времени образца.<br>
* Переделан горизонтальный планарный масштабировщик, без ограничений на ширину или переписывания 2 байтов.<br>
* Обеспечены простые и быстрые примитивы вывода текста, смотри info.h<br>
* Сделано аудио кэширование действительно работающим.<br>
* Улучшения скорости Tweak.<br>
* Улучшения скорости Subtract.<br>
* Подстройка Overlay() ISSE Convert444ChromaToYV12 и также сделана версия MMX.<br>
* Реализован интерфейс PokeCache.<br>
* Усовершенствования управления кэшем и памятью.<br>
<br>
* Начальное значение максимума памяти обрезано до 512MB.<br>
* Memory Max по умолчанию восстановлено до четверти свободной памяти. Минимум 16Mb. Как в 2.5.7.<br>
* Проверка VFB буфера данных на NULL для malloc, если так, то Выход (Throw)!<br>
* Переведены ярлыки меню установщика.<br>
* Проверка UTF-8 и Unicode BOM префиксов и выдача полезного предупреждения.<br>
* Удален бесполезный current_sample из скриптового окружения времени выполнения.<br>
* Добавлена критическая секция к класу CAVIFileSynth.<br>
* Возможность многоязыковой поддержки установщика, спасибо
  Fizick, gzarkadas, Malow, manusse, niiyan, talen9, TiGR, Underground78, WarpEnterprises, Wracko.<br>
* FunctionTable::Lookup() теперь рассматривает именованные аргументы при выборе.<br>
* ImageWriter поддерживает отрицательные величины как -count для параметра End.<br>
* ChanegFPS() использует отбрасывание дробной части (floor) вместо округления (round)
при вычислениях номера кадра источника.<br>
* Переделан в Динамически собираемый код преобразования rgb в yuy2.<br>
* Avisynth_c.h логические функции возвращают 1 для true вместо произвольного ненулевого.<br>
* Внутренний RGB2YUV() теперь копирует Alpha старший байт на выход.<br>
* CoUninitialize() делается немедленно для S_FALSE CoInitialize() возврата, то есть мы
  не держим счетчик использований COM.<br>
* Pfc, Softwire and SoundTouch обновлены и добавлены как зависимые проекты.<br>
* UPX обновлена до версии 2.03 (2006-11-07).<br>
* Величина Memory Max по умолчанию увеличена до половины минус 64Mb, если свободно свыше 256MB.<br>
* AVISource/WavSource отображают WAVEFORMATEXTENSIBLE назад к эквивалентному WAVEFORMATEX.<br>
* DirectShowSource() теперь распознает некорректный AM_MEDIA_TYPE подтип для
WAVE_FORMAT_EXTENSIBLE аудио, корректирует данные и принимает их.<br>
* DirectShowSource() теперь пытается использовать частичный граф из неудачного вызова RenderFile.<br>
* DirectShowSource() теперь детектирует и обрабатывает выровненные не на 32 бит строки изображения от плохих кодеков.<br>
* Crop(align=true) проверяет действительное выравнивание при каждом вызове GetFrame.<br>
* Ослаблено ограничение ширины YV12 ресайза, теперь кратно 2 вместо 4.<br>
* Отказы .AVSI при env->CreateScriptEnvironment() теперь доступны интерфейсу GetError().<br>
* SetCacheHints(CACHE_RANGE, n) будет теперь уступать кадры, чтобы удовлетворить SetMemoryMax().<br>
* CoInitialize()/CoUninitialize() теперь сделаны как часть создания/уничтожения ScriptEnvironment.<br>
* Включено много кода из ветви версии 2.6. Типично IsYV12() заменено на IsPlanar().
</p>

<p>Полный список может быть найден <a href="changelist.htm">здесь</a> и
<a href="http://www.avisynth.org/mediawiki/ChangeList">там</a>.</p>
<h3>Известные проблемы и вопросы</h3>
<ul>
  <li>DirectShowSource(..., ConvertFPS=True) с текущим сплиттером (расщепителем) ASF
  не дублирует корректный кадр при заполнении сжатых во времени
  областей ASF видео потока. Это из-за того, что сплиттер больше не
  возвращает корректное время остановки для кадра, он теперь возвращает
  время старта + 1 мс. В результате дублируется следующий кадр вместо нужного.
  Это приводит к заметному дрожанию в выходном видео для потоков с
  высокой степенью временного сжатия. Переработка и переписывание
  связанного кода запланирована на будущий выпуск.</li>

  <li>Некоторые проблемы кодирования .avs видео с Windows Media Encoder 9. Проблема в том, что процесс "wmeenc.exe" не выключается правильно.
    Кодирующая программа закрывается, но копия "wmeenc.exe" остается в списке задач, отъедая МНОГО памяти.
    Кажется это проблема с CoInitialize()/CoUninitialize() и попыткой изменить модель потоков.</li>
</li>
  <li>Правый щелчок на скриптах, чтобы открыть их в VDubMod: Если скрипт испорчен в редакторе скриптов, правильное
    сообщение об ошибке не появляется.</li>

  <li>Другие возможные ошибки доложены на <a href="http://sourceforge.net/tracker/?atid=482673&amp;group_id=57023&amp;func=browse">sourceforge</a>.</li>
</ul>
<h3>Планы на будущее</h3>

<h4>AviSynth v2.60:</h4>
<p>Эта версия будет следующей версией. Плагины для v2.5 будут работать в v2.6.
Цели разработки и предложения могут быть найдены <a href="http://forum.doom9.org/showthread.php?t=98585">здесь</a>.
Предложения включают следующее:</p>
<ul>
  <li>Y8 (серый), YV411(4:1:1 планарный),YV16 (4:2:2 планарный), YV24 (4:4:4 планарный) форматы.</li>
  <li>Все цветовые плоскости, поставляемые фильтрам, являются выровненными на 16 байт адрес и имеют кратный 16 питч.</li>
  <li>Безопасный к потокам (Thread-safe) avisynth.h.</li>
</ul>
<h4>AviSynth v2.61:</h4>
<p>Эта версия будет использовать свободный компилятор Microsoft (v8). Она будет идентичен по функциям 2.60,
то есть только изменен синтаксис исходников!</p>
<h4>AviSynth v2.6n:</h4>
<p>Немного дальше по пути, когда время и добровольцы позволят.</p>
<ul>
  <li>Добавление MaskTools к ядру.</li>
  <li>Официальная поддержка Win64.</li>
  <li>Поддержка ImageMagick для импорта и экспорта изображений (кроме DevIL).</li>
</ul>
<h4>AviSynth v3:</h4>
<p>AviSynth v3.0 это мощный фрейм-сервер для Windows и Linux, и это полное переписывание AviSynth v2.5,
сделанное заново Bidoche (David Pierre), Kurosu, Caro и другими.
v3.0 больше не отностися к vfw, хотя оно может быть использовано, когда возможно.
Это сделано таким образом, что к ядру могут быть добавлены новые API, подобно ffmpeg и gstreamer.
Также здесь будут добавлены много новых цветовых форматов: YV24, RGB45 и YV45 которые являются 15 битовыми (глубиной) версиями RGB24 и YV24.
Будут поддержаны прямые потоки, и много других новых вещей. Текущее состояние может быть
найдено <a href="http://www.avisynth.org/AviSynth30">здесь</a>. Обсуждение
ведется на irc.freenode.org#avisynth и <a href="http://forum.doom9.org/showthread.php?p=721468">здесь</a>.</p>
<p><kbd>$English Date: 2008/12/22 01:26:05 $<br>
Русский перевод 15.11.2005-22.12.2008 Fizick http://avisynth.org.ru</kbd>
</body>
</html>