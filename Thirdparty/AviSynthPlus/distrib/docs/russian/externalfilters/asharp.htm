<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ru">
<head>
<title>asharp</title>
  <meta content="text/html;charset=windows-1251" http-equiv="Content-Type">
   <link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: asharp.htm,v 1.2 2006/12/13 21:01:40 fizick Exp $
-->
</head>
<body>
<h1>Asharp</h1>
<h2>Общая информация</h2>
<b>Автор:</b> MarcFD<br>
<b>Версия:</b> 0.95<br>
<b>Загрузка:</b> <a href="http://ziquash.chez.tiscali.fr/">http://ziquash.chez.tiscali.fr/</a><br>
<b>Категория:</b> Плагины для повышения / смягчения резкости<br>
<b>Требования:</b> YV12 цветовой формат
<hr>
<h2>Описание</h2>
По существу, данный фильтр основан на очень распространенном методе маски нерезкости (unsharp mask), просто потому что это
наиболее приятная техника повышения резкости на мой взгляд ^^<br>
Но я добавил 3 простые идеи, которые я имел насчет повышения резкости :<br>
- адаптивные пороги для избежания усиления шума<br>
- адаптивное к блокам повышение резкости для избежания усиления краев DCT блоков<br>
- основанное на блоках адаптивное использование порогов для избежания усиления краев блоков DCT<br>
<br>
Он оптимизирован для качества, не скорости, но... я люблю скорость ^^<br>
так что я добавил очень оптимизированный MMX/ISSE код.<br>
<br>
Он работает в цветовом формате YV12, и только по каналу яркости<br>
(повышение резкости цветности кажется только вводит артефакты)<br>
<h3>Использование asharp</h3>
	Во-первых, добавьте следующую строку в Ваш .avs скрипт :
<pre>LoadPlugin(&quot;asharp.dll&quot;) # ранние версии Avisynth 2.5 не поддерживали автозагрузку</pre>
<p>Чтобы сделать простое использование маски нерезкости (unsharp masking) с силой 2x :</p>
<pre>Asharp(2,0)</pre>
<p>Чтобы попробовать некоторое адаптивное повышение резкости :</p>
<pre>Asharp(2, 4)</pre>
<p>Предложение для декодирования divx мультфильмов анимэ :</p>
<pre>Asharp(2. 5, 4.5, 0.25, hqbf=true)</pre>
<h3>Синтаксис</h3>
	<code>
    asharp
	</code> (<var>float "T", float "D", float "B", bool &quot;hqbf&quot;</var>)
<p><var>T</var> : порог маски нерезкости. 0 не делает ничего. (величина ограничена этим [ничего = 0..32])</p>
<p><var>T</var> = 1 это подобно 32 с фильтром маски нерезкости ffdsow/Vdub, это увеличивает контраст в 1x.
По умолчанию <var>T</var> = 2.</p>
<p><var>D</var> : сила адаптивного повышения резкости. (величина ограничена этим [отменено = 0..16])</p>
<p>установите в 0 чтобы отменить.<br>
Если <var>D</var> &gt; 0, то используется адаптивное установление порогов.<br>
Порог адаптируется для каждого пиксела (больше на краях).<br>
Если адаптивное повышение резкости разрешено, <var> T</var> действует как максимум.<br>
По умолчанию <var>D</var> = 4.</p>
<p><var>B </var> : адаптивное к блокам повышение резкости. (величина ограничена этим [отменено =0..4])</p>
<p>Установите в отрицательную величину чтобы отменить.<br>
Если <var>B</var> &gt;= 0,  адаптивное к блокам повышение резкости разрешено.<br>
Это действует очень просто, путем понижения порога вокруг краев блоков DCT.<br>
Если вы используете его, избегайте обрезки (cropping) некратной 8 между декодером и asharp.<br>
	(это работает только с адаптивным повышением резкости, если <var>D</var> &gt; 0)<br>
По умолчанию <var>B</var> = -1 (отменено)</p>
<p><u><var>hqbf</var></u> : высококачественная фильтрация блоков (high quality block filtering). (иначе называемое основанное на блоках адаптивное установление порогов.)</p>
<p>Это было мучительно реализовать в (оптимизирующих инструкциях процессора) SIMD, но я люблю это.<br>
Попробуйте с и без на блочном видео, и вы поймете почему ^^<br>
Это работает только с адаптивным установлением порогов.<br>
По умолчанию -&nbsp; false (отменено)<br>
</p>
<p><kbd>$English Date: 2004/08/13 21:57:25 $<br>
Русский перевод 03.07.2005 Fizick http://bag.hotmail.ru</kbd></p>
</body>
</html>