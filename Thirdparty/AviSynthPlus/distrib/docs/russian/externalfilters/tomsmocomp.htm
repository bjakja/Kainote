<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html lang="ru">
<head>
<title>TomsMoComp</title>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: tomsmocomp.htm,v 1.2 2006/12/13 21:01:40 fizick Exp $
-->
</head>
<body>
<h1>TomsMoComp</h1>
<h2>Общая информация</h2>
<b>Автор:</b> Tom Barry
<br><b>Версия:</b> 0.0.1.7<br>
<b>Загрузка:</b> <a href="http://mywebpages.comcast.net/trbarry/downloads.htm">http://mywebpages.comcast.net/trbarry/downloads.htm</a>
<br><b>Категория:</b>  деинтерлейс и устранение pulldown
<br><b>Требования:</b> &nbsp;
<ul>
  <li>цветовое пространство YV12 &amp; YUY2</li>
  <li>поддержка инструкций SSEMMX</li>
</ul>
<hr>
<h2>Описание</h2>
  TomsMoComp.dll – это фильтр деинтерлейса, использующий компенсацию движения и адаптивную обработку.
  Он работает с различной скоростью в зависимости от параметра SearchEffort, который в данной версии варьируется
  от 0 (просто чуть более качественный BOB-деинтерлейс) до 30 (слишком большой объём вычислений для современных
  компьютеров). Из этого диапазона реально используется несколько значений (в данной версии
  0,1,3,5,9,11,13,15,19,21,max), если задать другое значение, то используется ближайшее из перечисленных.
  Значения свыше 15 пока ещё не очень тщательно тестировались и, вероятно, их следует избегать.</p>
<p>TomsMoComp работает на всех процессорах, поддерживающих MMX. Также имеются некоторые оптимизации для набора
  инструкций 3DNOW (для процессоров AMD, начиная с K6-II) и для инструкций SSEMMX (P3 &amp; Athlon).</p>

<h3>Пример скрипта</h3>
<pre>LoadPlugin(&quot;d:\AVISynth\TomsMoComp\Release\TomsMoComp.dll&quot;)
clip = AviSource(&quot;c:\vcr\bikes.avi&quot;)
return clip.TomsMoComp(1, 15, 1)</pre>
<p>(замените имя файла и числа параметров на нужные вам).</p>
<p>Приведённый пример указывает использовать верхнее поле первым (TFF), SearchEffort=15, а также включает опцию
Vertical Filter.</p>
<h3>Параметры TomsMoComp</h3>
<p> <code>TomsMoComp</code> (<var>clip, int TopFirst, int SearchEffort, int VerticalFilter</var>)</p>
<p>Все параметры целочисленные; 0=нет, 1=да:</p>
<p> <var>TopFirst</var> - указывает порядок полей "Верхнее поле первым" (TFF). По умолчанию принимается 0 - "Нижнее поле
первым" (BFF). Вам следует проверить, например, в VirtualDub, какой вариант предпочтительнее <i>(прим. перев.: нужно
устанавливать всегда правильный, а не просто предпочтительный вариант:) Узнать порядок полей можно, например, с помощью
скрипта <a href="checkparity.htm"><code>CheckTopFirst</code></a>).</i>
<p>Нововведение - установка TopFirst=-1 будет использовать значение, выдаваемое AviSynth. Это может работать
некорректно с AviSynth 2.5 и MPEG2DEC3 v 0.9 !!!</p>
<p> <var>SearchEffort</var> - определяет, какой объём вычислений используется для поиска движущихся пикселов. В данной
версии может принимать значения от -1 до 30, причём 0 – это просто слегка усовершенствованный BOB-деинтерлейс, а 30 –
весьма и весьма большой объём вычислений.</p>
<p>Только в Avisynth версии фильтра может использоваться величина <var>SearchEffort=-1</var>.
В этом случае фильтр не производит деинтерлейс, а предполагает, что у вас уже есть прогрессивный видеоисточник, и
удваивает вертикальный размер кадра. Я случайно обнаружил, что это может дать чуть лучший результат, чем обычное
масштабирование, и может использоваться для видео, захваченного в половинном разрешении по вертикали.
Значение -1 не работает в AviSynth 2.5!!!</p>
<p> <var>VerticalFilter</var> - если включён (1), то происходит небольшое смешивание чётных и нечётных строк. Это
приводит к незначительной потере вертикального разрешения, но, возможно, помогает сгладить появившиеся артефакты
деинтерлейса, а также несколько улучшить сжимаемость видео.</p>
<p>
<h2>Особенности</h2>
<p>1) Входной цветовой формат должен быть YUV (YUY2) или YV12 (только в версии AviSynth 2.5). Используйте при
необходимости встроенные функции преобразования цветового формата.</p>
<p>2) В данной версии ширина клипа должна быть кратна 4.</p>
<p>3) Тестировался пока только на компьютерах с поддержкой SSEMMX.</p>
<p>4) Фильтр предназначен только для чисто чересстрочного видеоматериала (такого, как съёмки с большинства видеокамер).
Используйте IVTC, DeComb и другие методики для работы с киноматериалом.
</p>
<p><kbd>$English Date: 2004/08/17 20:31:19 $<br>
Русский перевод 24.06.2005 Eugene Vasiliev (eugvas<span>&#64;</span>mccme.ru)</kbd></p>
</p>
</body>
</html>
