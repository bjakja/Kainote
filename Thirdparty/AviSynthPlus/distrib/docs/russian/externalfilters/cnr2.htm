<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en"><html>
<head lang="ru">
<title>Cnr2</title>
  <meta http-equiv="Content-Language" content="ru">
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
   <link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: cnr2.htm,v 1.1 2005/06/03 21:23:39 fizick Exp $
-->
</head>
<body>
<h1>Cnr2 (Chroma Noise Reducer)</h1>
<h2>Общая информация</h2>
<b>Авторы:</b> MarcFD и др.<br>
<b>Версия:</b>   2.61<br>
<b>Загрузка:</b> <a href="http://www.avisynth.org/warpenterprises/">http://www.avisynth.org/warpenterprises/</a>
<br><b>Категория:</b> временн<b>ы</b>е сглаживатели (Temporal smoothers)
<br><b>Требования:</b>
<ul>
  <li>Цветовое пространство YV12 или YUY2</li>
</ul>
<hr>
<h2>Что он делает</h2>
<p>Этот фильтр стабилизирует цветовые каналы для аналоговых видеоисточников.<br>
  Этот фильтр относится к временнЫм и очень эффективен для борьбы с
  двумя цветовыми артефактами: стационарными радужными полосами (rainbows) и
   повышенным шумом цветности аналогового видеосигнала.</p>
<h2>Использование</h2>
  Добавьте следующие строчки в ваш скрипт:
<pre>LoadPlugin(&quot;Cnr2.dll&quot;)
# пример
Cnr2() # для оцифровки с TV или VHS
Cnr2(&quot;xxx&quot;, 4, 5, 255) # рекомендую для удаления радужных полос</pre>
<p>Синтаксис:</p>
<p><code>Cnr2</code>
(clip, <var>mode=&quot;oxx&quot;, scdthr=8, ln=35, lm=192,
un=47), um=255, vn=47, vm=255, log=false</var>)
</p>
<p><font face="Verdana"><var>mode</var>:</p>
<p>режим обработки каждого канала &quot;YUV&quot;<br>
    две возможности : wide (широкий) ('o') и narrow (узкий) ('x')<br>
    узкий режим более чувствителен к вариациям амплитуды, но менее эффективен.
</p>
<p><var>scdthr</var> :

</p>
<p>порог детектирования смены сцены.<br>
    понизьте его чтобы сделать детектирование смены сцен более чувствительным.<br>
    При смене сцены фильтрация начинается заново.
</p>
<p><var>ln,lm,un,um,vn,vm</var> : 0 to 255</p>
    параметры, заканчивающиеся на "n" (для каналов яркости ln и цветности un, vn), определяют чувствительность к движению:<br>
    более высокие значения лучше подавляют шум, но могут давать шлейфы за движущимися объектами ("призраки", ghosting artifactes).<br>
    параметры с буквой "m" определяют максимальный уровень шумоподавления каналов:<br>
    уменьшите их для снижения степени фильтрации.</p>
<p><var>log</var> :</p>
    включает отладочный режим для детектора смены сцены; используйте DebugView для просмотра отладочной информации.
<pre>&gt; Cnr2()
&gt; Cnr2(&quot;oxx&quot;, 8, 35, 192, 47, 255, 47, 255, false)
&gt; Cnr2(mode=&quot;oxx&quot;, scdthr=8, ln=35, lm=192, un=47, um=255, vn=47, vm=255, false)</pre>
<p>эти записи эквивалентны.<br>
</p>
<h2>История</h2>
  Этот фильтр создан на основе фильтра Chroma Noise Reduction 1.1 для Virtual Dub (автор Gilles Mouchard)<br>
  cnr 1.1 был неплохим фильтром цветности, но использовал преобразование RGB&lt;-&gt;YUV для работы.<br>
  Я использовал его для кодирования оцифрованных с VHS записей, поскольку это был лучший из известных мне
  подавителей цветового шума.<br>
  Когда я начал использовать AviSynth и Huffyuv, RGB-преобразование стало излишним.<br>
  Поэтому я посмотрел на код, и переписал фильтр заново, но основываясь на том же алгоритме.<br>
  Результат работы практически (99,9 - 100%) такой же, как у cnr (из-за пространства YUV),<br>
  но новая версия в 3-5 раз быстрее
  (Cnr2 работает в реальном времени (25 к/с) на кадре 640x480 на процессоре 1,4 ГГц).</p>
<p><u>Версия 2.1 (31.7.2002)</u></p>
<p>&nbsp;&nbsp;&nbsp; мелкие исправления.</p>
<p><u>Версия 2.2 (01.8.2002)</u></p>
<p>&nbsp;&nbsp;&nbsp; исправлена ошибка с первым кадром.</p>
  <u>Версия 2.3 (17.11.2002)</u>
<p>&nbsp;&nbsp;&nbsp; Работа в пространстве YV12 и детектор смены сцены.</p>
<p><u>Версия 2.4 (17.11.2002)</u></p>
<p>&nbsp;&nbsp;&nbsp; мелкие исправления.</p>
  <u>Версия 2.51 (13.11.2003)</u>
<p>&nbsp;&nbsp;&nbsp; Klaus Post: исправления ошибок.</p>
<u> Версия 2.6 (29.06.2004)</u>
<p>&nbsp;&nbsp;&nbsp; tritical: исправления ошибок, переработано определение смены сцены, очистка кода.&nbsp;</p>
<p><u>Версия 2.6.1 (30.06.2004)</u></p>
<p>&nbsp;&nbsp;&nbsp; tritical: скорость работы в yuy2 сделана снова быстрой.<br>
</p>
<h3>Распространение:</h3>
  Это свободно распространяемый программный продукт (согласно лицензии GNU-GPL).<br>
  Единственное ограничение: пишите мне на почту, если вы хотите модифицировать исходный код:<br>
  я не хочу, чтобы вы напрасно тратили время на расшифровку моего запутанного кода. Спасибо:)</p>
<h3>Контакты:</h3>
  Даже не сомневайтесь<a href="mailto:marc.fd@libertysurf.fr"> написать мне письмо</a>
  с любыми предложениями :-), сообщениями об ошибках :-(,<br>
  предложениями по доработке :D, и т.д. :-P.<br>
  Надеюсь, программа окажется для вас полезной! (как для меня ...)<br>

 (от редактора - к сожалению сейчас  MarcFD недоступен)
<p><kbd>$English Date: 2004/08/13 21:57:25 $<br>
Русский перевод 03.06.2005 Eugene Vasiliev (eugvas<span>&#64;</span>mccme.ru)<br>
параллельно с Turyst04<br>
Объединен и чуть отредактирован Fizick</kbd></p>
</body>
</html>
